# Comparing `tmp/pyntcli-0.1.80-py3-none-any.whl.zip` & `tmp/pyntcli-0.1.81-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,44 +1,44 @@
-Zip file size: 36436 bytes, number of entries: 42
--rw-r--r--  2.0 unx       23 b- defN 24-Apr-22 10:06 pyntcli/__init__.py
--rw-r--r--  2.0 unx     5171 b- defN 24-Apr-22 10:06 pyntcli/main.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-22 10:06 pyntcli/analytics/__init__.py
--rw-r--r--  2.0 unx     2845 b- defN 24-Apr-22 10:06 pyntcli/analytics/send.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-22 10:06 pyntcli/auth/__init__.py
--rw-r--r--  2.0 unx     5228 b- defN 24-Apr-22 10:06 pyntcli/auth/login.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-22 10:06 pyntcli/commands/__init__.py
--rw-r--r--  2.0 unx    10565 b- defN 24-Apr-22 10:06 pyntcli/commands/burp.py
--rw-r--r--  2.0 unx     9495 b- defN 24-Apr-22 10:06 pyntcli/commands/command.py
--rw-r--r--  2.0 unx     3654 b- defN 24-Apr-22 10:06 pyntcli/commands/har.py
--rw-r--r--  2.0 unx      943 b- defN 24-Apr-22 10:06 pyntcli/commands/id_command.py
--rw-r--r--  2.0 unx     8484 b- defN 24-Apr-22 10:06 pyntcli/commands/listen.py
--rw-r--r--  2.0 unx     4826 b- defN 24-Apr-22 10:06 pyntcli/commands/newman.py
--rw-r--r--  2.0 unx     4721 b- defN 24-Apr-22 10:06 pyntcli/commands/postman.py
--rw-r--r--  2.0 unx     2825 b- defN 24-Apr-22 10:06 pyntcli/commands/pynt_cmd.py
--rw-r--r--  2.0 unx     3320 b- defN 24-Apr-22 10:06 pyntcli/commands/root.py
--rw-r--r--  2.0 unx      374 b- defN 24-Apr-22 10:06 pyntcli/commands/sub_command.py
--rw-r--r--  2.0 unx     2827 b- defN 24-Apr-22 10:06 pyntcli/commands/util.py
--rw-r--r--  2.0 unx       19 b- defN 24-Apr-22 10:06 pyntcli/log/__init__.py
--rw-r--r--  2.0 unx     1069 b- defN 24-Apr-22 10:06 pyntcli/log/log.py
--rw-r--r--  2.0 unx       30 b- defN 24-Apr-22 10:06 pyntcli/pynt_docker/__init__.py
--rw-r--r--  2.0 unx      175 b- defN 24-Apr-22 10:06 pyntcli/pynt_docker/container_utils.py
--rw-r--r--  2.0 unx     8761 b- defN 24-Apr-22 10:06 pyntcli/pynt_docker/pynt_container.py
--rw-r--r--  2.0 unx       29 b- defN 24-Apr-22 10:06 pyntcli/store/__init__.py
--rw-r--r--  2.0 unx      560 b- defN 24-Apr-22 10:06 pyntcli/store/json_connector.py
--rw-r--r--  2.0 unx     1905 b- defN 24-Apr-22 10:06 pyntcli/store/store.py
--rw-r--r--  2.0 unx      357 b- defN 24-Apr-22 10:06 pyntcli/store/store_connector.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-22 10:06 pyntcli/transport/__init__.py
--rw-r--r--  2.0 unx     1563 b- defN 24-Apr-22 10:06 pyntcli/transport/pynt_requests.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-22 10:06 pyntcli/ui/__init__.py
--rw-r--r--  2.0 unx     1008 b- defN 24-Apr-22 10:06 pyntcli/ui/progress.py
--rw-r--r--  2.0 unx      546 b- defN 24-Apr-22 10:06 pyntcli/ui/pynt_errors.py
--rw-r--r--  2.0 unx     1930 b- defN 24-Apr-22 10:06 pyntcli/ui/report.py
--rw-r--r--  2.0 unx     4956 b- defN 24-Apr-22 10:06 pyntcli/ui/ui_thread.py
--rw-r--r--  2.0 unx      427 b- defN 24-Apr-22 10:06 tests/conftest.py
--rw-r--r--  2.0 unx     3798 b- defN 24-Apr-22 10:06 tests/auth/test_login.py
--rw-r--r--  2.0 unx      254 b- defN 24-Apr-22 10:06 tests/store/test_cred_store.py
--rw-r--r--  2.0 unx      463 b- defN 24-Apr-22 10:06 pyntcli-0.1.80.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-22 10:06 pyntcli-0.1.80.dist-info/WHEEL
--rw-r--r--  2.0 unx       43 b- defN 24-Apr-22 10:06 pyntcli-0.1.80.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       30 b- defN 24-Apr-22 10:06 pyntcli-0.1.80.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     3430 b- defN 24-Apr-22 10:06 pyntcli-0.1.80.dist-info/RECORD
-42 files, 96746 bytes uncompressed, 30968 bytes compressed:  68.0%
+Zip file size: 36688 bytes, number of entries: 42
+-rw-r--r--  2.0 unx       23 b- defN 24-May-01 09:32 pyntcli/__init__.py
+-rw-r--r--  2.0 unx     5138 b- defN 24-May-01 09:32 pyntcli/main.py
+-rw-r--r--  2.0 unx        0 b- defN 24-May-01 09:32 pyntcli/analytics/__init__.py
+-rw-r--r--  2.0 unx     3637 b- defN 24-May-01 09:32 pyntcli/analytics/send.py
+-rw-r--r--  2.0 unx        0 b- defN 24-May-01 09:32 pyntcli/auth/__init__.py
+-rw-r--r--  2.0 unx     5228 b- defN 24-May-01 09:32 pyntcli/auth/login.py
+-rw-r--r--  2.0 unx        0 b- defN 24-May-01 09:32 pyntcli/commands/__init__.py
+-rw-r--r--  2.0 unx    10565 b- defN 24-May-01 09:32 pyntcli/commands/burp.py
+-rw-r--r--  2.0 unx     9495 b- defN 24-May-01 09:32 pyntcli/commands/command.py
+-rw-r--r--  2.0 unx     3654 b- defN 24-May-01 09:32 pyntcli/commands/har.py
+-rw-r--r--  2.0 unx      943 b- defN 24-May-01 09:32 pyntcli/commands/id_command.py
+-rw-r--r--  2.0 unx     8484 b- defN 24-May-01 09:32 pyntcli/commands/listen.py
+-rw-r--r--  2.0 unx     4826 b- defN 24-May-01 09:32 pyntcli/commands/newman.py
+-rw-r--r--  2.0 unx     4721 b- defN 24-May-01 09:32 pyntcli/commands/postman.py
+-rw-r--r--  2.0 unx     2825 b- defN 24-May-01 09:32 pyntcli/commands/pynt_cmd.py
+-rw-r--r--  2.0 unx     3320 b- defN 24-May-01 09:32 pyntcli/commands/root.py
+-rw-r--r--  2.0 unx      374 b- defN 24-May-01 09:32 pyntcli/commands/sub_command.py
+-rw-r--r--  2.0 unx     2827 b- defN 24-May-01 09:32 pyntcli/commands/util.py
+-rw-r--r--  2.0 unx       19 b- defN 24-May-01 09:32 pyntcli/log/__init__.py
+-rw-r--r--  2.0 unx     1069 b- defN 24-May-01 09:32 pyntcli/log/log.py
+-rw-r--r--  2.0 unx       30 b- defN 24-May-01 09:32 pyntcli/pynt_docker/__init__.py
+-rw-r--r--  2.0 unx      175 b- defN 24-May-01 09:32 pyntcli/pynt_docker/container_utils.py
+-rw-r--r--  2.0 unx     8761 b- defN 24-May-01 09:32 pyntcli/pynt_docker/pynt_container.py
+-rw-r--r--  2.0 unx       29 b- defN 24-May-01 09:32 pyntcli/store/__init__.py
+-rw-r--r--  2.0 unx      560 b- defN 24-May-01 09:32 pyntcli/store/json_connector.py
+-rw-r--r--  2.0 unx     1905 b- defN 24-May-01 09:32 pyntcli/store/store.py
+-rw-r--r--  2.0 unx      357 b- defN 24-May-01 09:32 pyntcli/store/store_connector.py
+-rw-r--r--  2.0 unx        0 b- defN 24-May-01 09:32 pyntcli/transport/__init__.py
+-rw-r--r--  2.0 unx     1563 b- defN 24-May-01 09:32 pyntcli/transport/pynt_requests.py
+-rw-r--r--  2.0 unx        0 b- defN 24-May-01 09:32 pyntcli/ui/__init__.py
+-rw-r--r--  2.0 unx     1008 b- defN 24-May-01 09:32 pyntcli/ui/progress.py
+-rw-r--r--  2.0 unx      546 b- defN 24-May-01 09:32 pyntcli/ui/pynt_errors.py
+-rw-r--r--  2.0 unx     1930 b- defN 24-May-01 09:32 pyntcli/ui/report.py
+-rw-r--r--  2.0 unx     4956 b- defN 24-May-01 09:32 pyntcli/ui/ui_thread.py
+-rw-r--r--  2.0 unx      427 b- defN 24-May-01 09:32 tests/conftest.py
+-rw-r--r--  2.0 unx     3798 b- defN 24-May-01 09:32 tests/auth/test_login.py
+-rw-r--r--  2.0 unx      254 b- defN 24-May-01 09:32 tests/store/test_cred_store.py
+-rw-r--r--  2.0 unx      463 b- defN 24-May-01 09:33 pyntcli-0.1.81.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-May-01 09:33 pyntcli-0.1.81.dist-info/WHEEL
+-rw-r--r--  2.0 unx       43 b- defN 24-May-01 09:33 pyntcli-0.1.81.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       30 b- defN 24-May-01 09:33 pyntcli-0.1.81.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3430 b- defN 24-May-01 09:33 pyntcli-0.1.81.dist-info/RECORD
+42 files, 97505 bytes uncompressed, 31220 bytes compressed:  68.0%
```

## zipnote {}

```diff
@@ -105,23 +105,23 @@
 
 Filename: tests/auth/test_login.py
 Comment: 
 
 Filename: tests/store/test_cred_store.py
 Comment: 
 
-Filename: pyntcli-0.1.80.dist-info/METADATA
+Filename: pyntcli-0.1.81.dist-info/METADATA
 Comment: 
 
-Filename: pyntcli-0.1.80.dist-info/WHEEL
+Filename: pyntcli-0.1.81.dist-info/WHEEL
 Comment: 
 
-Filename: pyntcli-0.1.80.dist-info/entry_points.txt
+Filename: pyntcli-0.1.81.dist-info/entry_points.txt
 Comment: 
 
-Filename: pyntcli-0.1.80.dist-info/top_level.txt
+Filename: pyntcli-0.1.81.dist-info/top_level.txt
 Comment: 
 
-Filename: pyntcli-0.1.80.dist-info/RECORD
+Filename: pyntcli-0.1.81.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## pyntcli/__init__.py

```diff
@@ -1 +1 @@
-__version__ = "0.1.80"
+__version__ = "0.1.81"
```

## pyntcli/main.py

```diff
@@ -2,15 +2,14 @@
 import signal
 
 import pyntcli.log.log as log
 from pyntcli.commands import pynt_cmd
 from pyntcli.pynt_docker import pynt_container
 from pyntcli.ui import ui_thread
 from pyntcli.ui import pynt_errors
-from pyntcli.ui import ui_thread
 from pyntcli.auth import login
 from pyntcli.analytics import send as analytics
 from requests.exceptions import SSLError
 from requests.exceptions import ProxyError
 from pyntcli.transport.pynt_requests import InvalidPathException, InvalidCertFormat
 from pyntcli.commands.util import HtmlReportNotCreatedException
 from pyntcli.commands.util import SomeFindingsOrWarningsException
```

## pyntcli/analytics/send.py

```diff
@@ -1,19 +1,23 @@
 import requests
 import time
 import platform
+import socket
+import subprocess
 
 from pyntcli import __version__
 from pyntcli.transport import pynt_requests
 import pyntcli.log.log as log
+from pyntcli.ui import ui_thread
 
 
 PYNT_DEFAULT_USER_ID = "d9e3b82b-2900-43bf-8c8f-7ffe2f0cda36"
 MIXPANEL_TOKEN = "05c26edb86084bbbb803eed6818cd8aa"
-MIXPANEL_URL = "https://api-eu.mixpanel.com/track?ip=1"
+MIXPANEL_DOMAIN = "api-eu.mixpanel.com"
+MIXPANEL_URL = f"https://{MIXPANEL_DOMAIN}/track?ip=1"
 
 logger = log.get_logger()
 
 
 def stop():
     if not AnalyticsSender._instance:
         return
@@ -43,26 +47,40 @@
 class AnalyticsSender():
     _instance = None
 
     def __init__(self, user_id=PYNT_DEFAULT_USER_ID) -> None:
         self.user_id = user_id
         self.version = __version__
         self.events = []
+        self.disable_analytics = False
 
     @staticmethod
     def instance():
         if not AnalyticsSender._instance:
             AnalyticsSender._instance = AnalyticsSender()
+            AnalyticsSender._instance.check_network_restrictions()
 
         return AnalyticsSender._instance
 
+    def check_network_restrictions(self):
+        try:
+            result = subprocess.run(["ping", "-c", "1", MIXPANEL_DOMAIN], stdout=subprocess.DEVNULL, stderr=subprocess.DEVNULL, timeout=2)
+            if result.returncode != 0:
+                self.set_disable_analytics("ping return code not 0")
+        except (socket.gaierror, subprocess.TimeoutExpired):
+            self.set_disable_analytics("timeout")
+
+    def set_disable_analytics(self, reason: str):
+        self.disable_analytics = True
+        logger.debug(f"Disabling analytics due to : {reason}")
+
     def base_event(self, event_type):
         return {
             "event": event_type,
-            "properties":  {
+            "properties": {
                 "time": time.time(),
                 "distinct_id": self.user_id,
                 "$os": platform.platform(),
                 "cli_version": self.version,
                 "token": MIXPANEL_TOKEN
             }
         }
@@ -71,18 +89,18 @@
         base_event = self.base_event(event)
 
         if properties:
             for k, v in properties.items():
                 base_event["properties"][k] = v
 
         if self.user_id != PYNT_DEFAULT_USER_ID:
-            try:
+            if self.disable_analytics:
+                logger.info(f"Analytics disabled, sending to logz: {base_event}")
+            else:
                 pynt_requests.post(MIXPANEL_URL, json=[base_event])
-            except Exception:
-                logger.info(f"mixpanel unavailable, sending to logz: {base_event}")
         else:
             self.events.append(base_event)
 
     def deferred_emit(self, event, properties):
         base_event = self.base_event(event)
 
         if properties:
@@ -95,12 +113,13 @@
         self.user_id = user_id
         for i, _ in enumerate(self.events):
             self.events[i]["properties"]["distinct_id"] = user_id
         self.done()
 
     def done(self):
         if self.events:
-            try:
+            if self.disable_analytics:
+                logger.info(f"Analytics disabled, sending to logz: {self.events}")
+            else:
                 pynt_requests.post(MIXPANEL_URL, json=self.events)
-            except Exception:
-                logger.info(f"mixpanel unavailable, sending to logz: {self.events}")
+
             self.events = []
```

## Comparing `pyntcli-0.1.80.dist-info/RECORD` & `pyntcli-0.1.81.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -1,11 +1,11 @@
-pyntcli/__init__.py,sha256=7BO6MGkPGuN-ZrZBKBek9x0F-EwGEiaELuB5k1018oE,23
-pyntcli/main.py,sha256=7ZDeG3IO04T98D2NJ1vHWVAVJVm8y719NeV2Aom7tPY,5171
+pyntcli/__init__.py,sha256=4reVRut6pFQ0MxDHMjUh2C4vPGa3csSjDj46nUuBiXs,23
+pyntcli/main.py,sha256=qTGMG2JSpieg-1RRgBz9dPL4vHo1WJJIxTPQYAuzxuY,5138
 pyntcli/analytics/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-pyntcli/analytics/send.py,sha256=cKvMw4HIGJGLip5OMPqTv1AJDlKlc_Uk2Sfcl0e3QLE,2845
+pyntcli/analytics/send.py,sha256=pJOyOWl3g_Vm9apKK3LzNVqsnC6zsWA1bCK3ZegbLpc,3637
 pyntcli/auth/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pyntcli/auth/login.py,sha256=TljsRXbEkNI1YUrKm5mlTw4YiecYScYUsit8Z8vstss,5228
 pyntcli/commands/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pyntcli/commands/burp.py,sha256=KuxeX9I0ZXSVAMHdt9OYFok79X9IK6z71-ZN-_fnrvU,10565
 pyntcli/commands/command.py,sha256=0O7Za_cjT6vDkDfM0OTMPB6DLI3U1r1R7lXQydz7458,9495
 pyntcli/commands/har.py,sha256=mSCbTUnxQrKzJd-dAWoc6Tkw6tU1LDH7Ha1w2ylrrrg,3654
 pyntcli/commands/id_command.py,sha256=UBEgMIpm4vauTCsKyixltiGUolNg_OfHEJvJ_i5BpJY,943
@@ -31,12 +31,12 @@
 pyntcli/ui/progress.py,sha256=RrnO_jJNunoyupylakmWmHOEPw3lh99OHpKBzL6OBiE,1008
 pyntcli/ui/pynt_errors.py,sha256=UAr8OV5EM4zLhfWSmK_qss8nal2Ezo66Dk8ZMvR_RTs,546
 pyntcli/ui/report.py,sha256=W-icPSZrGLOubXgam0LpOvHLl_aZg9Zx9qIkL8Ym5PE,1930
 pyntcli/ui/ui_thread.py,sha256=OVTbiIFMg2KgxAvHf7yy86xGm4RVS2vj_VYZkMi-SRY,4956
 tests/conftest.py,sha256=gToq5K74GtgeGQXjFvXSzMaE6axBYxAzcFG5XJPOXjI,427
 tests/auth/test_login.py,sha256=KFlzWhXBAuwdi7GXf16gCB3ya94LQG2wjcSChE149rQ,3798
 tests/store/test_cred_store.py,sha256=_7-917EtNC9eKEumO2_lt-7KuDmCwOZFaowCm7DbA_A,254
-pyntcli-0.1.80.dist-info/METADATA,sha256=vpZ6n4DcVQ0o7mAw6eubAsPDT7buPIzGBwbDDN0rbuA,463
-pyntcli-0.1.80.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-pyntcli-0.1.80.dist-info/entry_points.txt,sha256=kcGmqAxXDttNk2EPRcqunc_LTVp61gzakz0v-GEE2SY,43
-pyntcli-0.1.80.dist-info/top_level.txt,sha256=u9MDStwVHB7UG8PUcODeWCul_NvzL2EzoLvSlgwLHFs,30
-pyntcli-0.1.80.dist-info/RECORD,,
+pyntcli-0.1.81.dist-info/METADATA,sha256=D5hWFtXYjvdJp7uIjMBlj8Z_yYP0pobzSV1Ce6T1onM,463
+pyntcli-0.1.81.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+pyntcli-0.1.81.dist-info/entry_points.txt,sha256=kcGmqAxXDttNk2EPRcqunc_LTVp61gzakz0v-GEE2SY,43
+pyntcli-0.1.81.dist-info/top_level.txt,sha256=u9MDStwVHB7UG8PUcODeWCul_NvzL2EzoLvSlgwLHFs,30
+pyntcli-0.1.81.dist-info/RECORD,,
```

